<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>泽钛造水</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0,,user-scalable=no">
    <link rel="stylesheet" href="css/login.css">
    <script src="js/index.js"></script>
</head>
<body>
<section id="login">
    <div class="logoWrap">
        <img src="images/logo.png" class="logo">
    </div>

    <form action="">
        <div class="formLine">
            <p>手机号</p>
            <input id="phoneNum" type="tel" placeholder="请输入手机号">
            <a href="javascript:;" id="sendCode" class="sendCode">发送验证码</a>
        </div>
        <div class="formLine">
            <p>验证码</p>
            <input id="codeNum" type="text" maxlength="6" pattern="[0-9]*" placeholder="请输入验证码">
        </div>
        <input id="btn-login" class="btn btn-login" type="submit" value="登录">
    </form>
</section>

<!-- 错误提示 -->
<section id="errTip" class="errTip">
    <div class="inner">
        <p id="errText" class="errText">手机号不正确！</p>
    </div>
</section>

<script src="lib/jquery.min.js"></script>
<script>
    $(function () {

        var url = '';

        var phoneNum, codeNum;
        var myreg = /^[1][3,4,5,7,8][0-9]{9}$/;

        // 发送验证码
        $('#sendCode').click(function (e) {
            e.preventDefault();
            phoneNum = $('#phoneNum').val();
            console.log(myreg.test(phoneNum));
            console.log(phoneNum);

            if (!phoneNum || !myreg.test(phoneNum)) {
                // $('#errText').text("密码错误");
                $('#errTip').fadeIn(function () {
                    var mysetTime = setTimeout(function () {
                        $('#errTip').fadeOut();
                    }, 2000);
                });
            } else {
                // to-do
            }
        });

        // 点击登录按钮
        $('#btn-login').click(function (e) {
            e.preventDefault();
            if (!codeNum) {
                $('#errText').text("验证码不能为空！");
                $('#errTip').fadeIn(function () {
                    var mysetTime = setTimeout(function () {
                        $('#errTip').fadeOut();
                    }, 2000);
                });
            } else {
                // to-do
            }
        })

    })
</script>
</body>
</html>